(this.webpackJsonphister=this.webpackJsonphister||[]).push([[51],{1625:function(e,t,n){"use strict";var r=n(1714),c=n(906),i=n(1359),o=n(1378),s=n(1380),a=n(1375),l=n(1371),j=n(1373),d=n(1491),x=n(1642),m=n(1587),b=n(1);t.a=function(e){var t,n,u,h,O,p,f,g,v,y,z,F,S=e.isEdit,C=e.getProductForAddReport,w=e.formik,k=e.showSize,_=e.showOkCanc,D=e.addDamaged,I=e.showColor,W=e.loadingGetProduct,E=e.onClose,B=e.open;return Object(b.jsx)(c.a,{open:B,onClose:function(){return E()},children:Object(b.jsx)(i.a,{in:B,children:Object(b.jsx)("form",{onSubmit:w.handleSubmit,children:Object(b.jsx)(o.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60%",p:4},children:Object(b.jsxs)(s.a,{children:[Object(b.jsx)(a.a,{container:!0,spacing:4,m:2,children:"Report Damaged product"}),Object(b.jsxs)(a.a,{container:!0,item:!0,xs:12,spacing:4,textAlign:"start",children:[Object(b.jsx)(a.a,{item:!0,xs:12,lg:6,textAlign:"start",children:Object(b.jsx)(l.a,{name:"productId",type:"text",required:!0,label:"Product Id",variant:"outlined",disabled:!(!w.values.productId&&!S),value:w.values.productId,onChange:w.handleChange,error:null===(t=w.errors)||void 0===t?void 0:t.productId,helperText:null!==(n=w.errors)&&void 0!==n&&n.productId?w.errors.productId.toString():""})}),Object(b.jsx)(a.a,{item:!0,xs:12,lg:6,textAlign:"start",children:Object(b.jsx)(l.a,{required:!0,type:"number",label:"Count",variant:"outlined",name:"count",value:w.values.count,onChange:w.handleChange,error:null===(u=w.errors)||void 0===u?void 0:u.count,helperText:null!==(h=w.errors)&&void 0!==h&&h.count?w.errors.count:""})}),Object(b.jsx)(a.a,{item:!0,xs:12,textAlign:"start",children:W?Object(b.jsx)(r.a,{loading:!0,variant:"outlined",children:"hi"}):Object(b.jsx)(j.a,{variant:"contained",onClick:function(){C()},children:"Create Report"})}),Object(b.jsx)(a.a,{item:!0,xs:12,lg:6,textAlign:"start",children:Object(b.jsx)(d.a,{in:I,children:Object(b.jsx)(l.a,{fullwidth:!0,required:I,label:"Color",variant:"outlined",disabled:!!S,name:"color",value:w.values.color,onChange:w.handleChange,error:!(null===(O=w.errors)||void 0===O||!O.color)&&(null===(p=w.errors)||void 0===p?void 0:p.color),helperText:null!==(f=w.errors)&&void 0!==f&&f.color?w.errors.color:""})})}),Object(b.jsx)(a.a,{item:!0,xs:12,lg:6,children:Object(b.jsx)(d.a,{in:k,children:Object(b.jsx)(l.a,{fullwidth:!0,label:"Size",disabled:!!S,variant:"outlined",required:k,name:"size",value:null===(g=w.values)||void 0===g?void 0:g.size,onChange:w.handleChange,error:!(null===(v=w.errors)||void 0===v||!v.size)&&(null===(y=w.errors)||void 0===y?void 0:y.size),helperText:null!==(z=w.errors)&&void 0!==z&&z.size?w.errors.size:""})})}),Object(b.jsx)(a.a,{item:!0,xs:12,textAlign:"start",children:Object(b.jsx)(x.a,{name:"isFromOrder",control:Object(b.jsx)(m.a,{disabled:!!S,checked:null===(F=w.values)||void 0===F?void 0:F.isFromOrder,onChange:w.handleChange}),label:"This report from order"})}),Object(b.jsx)(d.a,{in:_,children:Object(b.jsxs)(a.a,{item:!0,container:!0,xs:12,spacing:5,children:[Object(b.jsx)(a.a,{item:!0,xs:12,lg:6,children:Object(b.jsx)(j.a,{variant:"contained",color:"warning",onClick:function(){E()},children:"Canceled"})}),Object(b.jsx)(a.a,{item:!0,x:12,lg:6,children:D?Object(b.jsx)(r.a,{loading:!0,variant:"outlined",children:"hi"}):Object(b.jsx)(j.a,{type:"submit",variant:"contained",children:S?"Edit":"Okay"})})]})})]})]})})})})})}},1690:function(e,t,n){"use strict";var r=n(4),c=n(10),i=n(15),o=n(3),s=n.n(o),a=n(47),l=n(41),j=n(227),d=n(2),x=n(244),m=n(1625),b=n(1);t.a=function(e){var t=e.open,n=e.onClose,o=e.productId,u=Object(d.useState)(!1),h=Object(i.a)(u,2),O=h[0],p=h[1],f=Object(d.useState)(!1),g=Object(i.a)(f,2),v=g[0],y=g[1],z=Object(d.useState)(!1),F=Object(i.a)(z,2),S=F[0],C=F[1],w=Object(d.useState)(!1),k=Object(i.a)(w,2),_=k[0],D=k[1],I=Object(d.useState)(!1),W=Object(i.a)(I,2),E=W[0],B=W[1],P=Object(d.useState)(),N=Object(i.a)(P,2),A=N[0],T=N[1],R=Object(j.d)({initialValues:{productId:o||"",color:"",size:"",count:"",isFromOrder:!1},validationSchema:x.c().shape({productId:x.e().required("Not a product name"),color:x.e(),count:x.b().required("Not a count"),size:x.e(),isFromOrder:x.a()}),onSubmit:function(){var e=Object(c.a)(s.a.mark((function e(t){var i,o,l,j,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D(!0),i={auther:a.l.auth().currentUser.displayName,color:t.color?t.color:"",count:t.count,productId:t.productId,size:t.size?t.size:"",time:Date.now(),thisReportFromOrder:t.isFromOrder},o=a.l.firestore().collection("products").doc(A.id+""),e.next=6,a.l.firestore().collection("databaseCount").doc("damagedProduct").get();case 6:return l=e.sent,j=l.data().count+1,d=l.data().sum+R.values.count,e.next=11,a.l.firestore().collection("databaseCount").doc("damagedProduct").update({count:j,sum:d});case 11:return e.next=13,a.l.firestore().runTransaction(function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get(o).then(function(){var e=Object(c.a)(s.a.mark((function e(n){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.exists){e.next=2;break}throw"Document does not exist!";case 2:if(console.log(n.data()),V(n.data())){e.next=6;break}throw new Error("validationError");case 6:return c=q(n.data()),e.next=9,a.l.firestore().collection("damaged_product").add(i);case 9:t.update(o,Object(r.a)({},c));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){return console.log("Transaction successfully committed!"),n(),R.setValues({productId:"",color:"",size:"",count:"",isFromOrder:!1}),!0})).catch((function(e){return console.log("Transaction failed: ",e),!1}));case 13:D(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),D(!1),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()}),q=function(e){var t=R.values,n=e;return t.isFromOrder?n.sold=n.sold-Number(t.count):(O&&!v&&n.variants.map((function(e,r){e.color_name==t.color&&(n.variants[r].count=Number(e.count)-Number(t.count))})),!O&&v&&n.variants[0].size.map((function(e,r){e.name==t.size&&(n.variants[0].size[r].count=Number(e.count)-Number(t.count))})),O&&v&&n.variants.map((function(e,r){e.color_name==t.color&&e.size.map((function(e,c){e.name==t.size&&(n.variants[r].size[c].count=Number(e.count)-Number(t.count))}))})),n.stock=n.stock-Number(t.count)),n.damegdCouont=n.damegdCouont+Number(t.count),n},V=function(e){console.log(e);var t=R.values;if(0>Number(t.count)&&R.setFieldError("count","can not be minas "),e.stock<t.count)return R.setFieldError("count","the number in the stock is "+e.stock),!1;if((e.sold<=0||t.count>e.sold)&&t.isFromOrder)return R.setFieldError("count","the sold products are less than"+t.count),!1;if(O){if(!t.color)return R.setFieldError("color","this field is requerid"),!1;var n=e.variants.filter((function(e){return t.color===e.color_name}))[0];if(!n)return R.setFieldError("color","no such color name"),!1;if(n.count&&t.count>n.count)return R.setFieldError("count","the number in the stock is "+n.count),!1}if(v){if(!t.size)return R.setFieldError("size","this field is requerid"),!1;var r=e.variants.filter((function(e){return t.color===e.color_name||"default"===e.color_name}))[0];if(!r)return R.setFieldError("color","no such color name"),!1;var c=r.size.filter((function(e){return t.size===e.name}))[0];if(!c)return R.setFieldError("size","the size not in the stock"),!1;if(c&&t.count>c.count)return R.setFieldError("count","the number in the stock is "+c.count),!1}return!0};return Object(d.useEffect)((function(){C(!1),p(!1),y(!1),R.setFieldValue("color",""),R.setFieldValue("size","")}),[R.values.productId]),Object(d.useEffect)((function(){return function(){R.resetForm(),R.handleReset()}}),[]),Object(b.jsx)(m.a,{open:t,loadingGetProduct:E,onClose:n,showColor:O,addDamaged:_,formik:R,showOkCanc:S,showSize:v,getProductForAddReport:function(){B(!0),l.a.get("/api/ecommerce/get",{params:{id:R.values.productId}}).then((function(e){var t,n,r;T(e.data),(null===(t=e.data.variants)||void 0===t?void 0:t.length)>0&&"default"!==e.data.variants[0].color_name?p(!0):p(!1),(null===(n=e.data.variants[0])||void 0===n||null===(r=n.size)||void 0===r?void 0:r.length)>0?y(!0):y(!1)})).finally((function(){B(!1),C(!0)}))}})}},1913:function(e,t,n){"use strict";n.r(t);var r=n(15),c=n(2),i=n.n(c),o=n(7),s=n(1786),a=n.n(s),l=(n(1797),n(226)),j=n(1375),d=n(17),x=n(1),m=Object(d.a)(l.a)((function(e){var t,n,r=e.theme;return{position:"relative",display:"flex","& .BrainhubCarousel__container":(t={marginLeft:20,marginRight:20,maxWidth:300},Object(o.a)(t,r.breakpoints.up("sm"),{maxWidth:450}),Object(o.a)(t,"& .BrainhubCarousel",{height:"100%"}),t),"& .BrainhubCarousel__dots":(n={},Object(o.a)(n,r.breakpoints.down("sm"),{display:"none"}),Object(o.a)(n,"& .BrainhubCarousel__thumbnail",{opacity:1,backgroundColor:"transparent",borderRadius:10,marginBottom:10,border:"1px solid #A0A5B9","&.BrainhubCarousel__thumbnail--selected":{border:"solid 2px #7c7c7c"}}),Object(o.a)(n,"flexDirection","column"),Object(o.a)(n,"& img",{height:80}),n)}})),b=function(e){var t=e.product,n=Object(c.useState)(0),i=Object(r.a)(n,2),o=i[0],d=i[1],b=t.sm_pictures.map((function(e){return Object(x.jsx)("img",{src:e.url,alt:""},e.url)})),u=function(e){d(e)};return Object(x.jsxs)(j.a,{item:!0,sm:12,md:4,children:[Object(x.jsxs)(m,{children:[Object(x.jsx)(s.Dots,{position:"left",thumbnails:b,value:o,onChange:u,number:b.length}),Object(x.jsx)(a.a,{position:"left",value:o,slides:b,onChange:u})]}),Object(x.jsx)(l.a,{sx:{display:"flex",justifyContent:"center",mt:5}})]})},u=n(145),h=n(1934),O=n(14),p=n(1373),f=n(638),g=n(64),v=n(1690),y=function(e){var t=e.product,n=Object(f.a)().messages,i=Object(g.f)(),o=Object(c.useState)(0),s=Object(r.a)(o,2),a=s[0],j=s[1],d=Object(c.useState)(!1),m=Object(r.a)(d,2),b=m[0],u=m[1];Object(c.useEffect)((function(){var e,n=0;null===(e=t.reviews)||void 0===e||e.map((function(e){e.rating&&(n+=e.rating)})),j(n/t.review)}),[t]);return Object(x.jsxs)(l.a,{sx:{display:"flex",alignItems:"center",flexDirection:{xs:"column",sm:"row"},pb:5,mb:5,borderBottom:"1px solid #E5E4EA"},children:[Object(x.jsxs)(l.a,{sx:{flex:1},children:[Object(x.jsx)(l.a,{component:"h3",sx:{color:"text.primary",fontWeight:O.a.BOLD,fontSize:16,mb:1},children:t.name}),Object(x.jsxs)(l.a,{sx:{display:"flex"},children:[Object(x.jsx)(h.a,{value:Number(a).toFixed(1),size:"small",readOnly:!0}),Object(x.jsx)(l.a,{sx:{ml:2,mr:4,color:"text.secondary"},children:t.review+" reviews"}),Object(x.jsx)(l.a,{children:Object(x.jsx)(l.a,{component:"span",sx:{ml:2,color:"text.secondary"}})})]})]}),Object(x.jsxs)(l.a,{sx:{display:"flex",mt:{xs:4,sm:0}},children:[Object(x.jsx)(l.a,{display:"flex",justifyContent:"flex-end",flexDirection:"row",alignItems:"left",children:Object(x.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){i("/product-management/EditProductForm/"+t.id,{state:t})},children:n["ecommerce.editproduct"]})}),Object(x.jsx)(l.a,{display:"flex",justifyContent:"flex-end",flexDirection:"row",alignItems:"left",mx:1,children:Object(x.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){return u(!0)},children:n["ecommerce.addDamaged"]})})]}),Object(x.jsx)(v.a,{onClose:function(){return u(!1)},open:b,productId:t.id})]})},z=n(1471),F=n(1587),S=n(1580),C=n.n(S),w=n(1584),k=n.n(w),_=function(e){var t,n,r,c,o,s=e.product;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(l.a,{component:"h3",sx:{color:"text.primary",fontSize:16,mt:4,mb:3},children:"Product Details"}),Object(x.jsx)(j.a,{container:!0,spacing:3,children:Object(x.jsxs)(i.a.Fragment,{children:[Object(x.jsx)(j.a,{item:!0,xs:4,children:Object(x.jsx)(l.a,{component:"h3",sx:{color:"text.primary",fontSize:16,mt:4,mb:3},children:"Product Id"})}),Object(x.jsx)(j.a,{item:!0,xs:8,children:Object(x.jsx)(l.a,{component:"h4",sx:{color:"text.primary",fontSize:16,mt:4,mb:3},children:s.id})})]},s.id)}),Object(x.jsx)(j.a,{container:!0,spacing:3,children:Object(x.jsxs)(i.a.Fragment,{children:[Object(x.jsx)(j.a,{item:!0,xs:4,children:Object(x.jsx)(l.a,{component:"h3",sx:{color:"text.primary",fontSize:16,mt:4,mb:3},children:"Product Price"})}),Object(x.jsx)(j.a,{item:!0,xs:8,children:Object(x.jsx)(l.a,{component:"h4",sx:{color:"text.primary",fontSize:16,mt:4,mb:3},children:s.sale_price?Object(x.jsxs)(x.Fragment,{children:["\u20aa",s.sale_price?s.sale_price:s.price,Object(x.jsxs)(l.a,{component:"span",sx:{textDecoration:"line-through",color:"#B30009DD",fontSize:16,mt:1,ml:3},children:["\u20aa",s.price]})]}):Object(x.jsxs)(x.Fragment,{children:[" ",Object(x.jsxs)(l.a,{component:"span",sx:{color:"text.primary",fontSize:16,mt:1,ml:0},children:["\u20aa",s.price]})]})})})]},s.id)}),s.vendor_price?Object(x.jsx)(j.a,{container:!0,spacing:3,children:Object(x.jsxs)(i.a.Fragment,{children:[Object(x.jsx)(j.a,{item:!0,xs:4,children:Object(x.jsx)(l.a,{component:"h3",sx:{color:"text.primary",fontSize:16,mt:4,mb:3},children:"Vendor Price"})}),Object(x.jsx)(j.a,{item:!0,xs:8,children:Object(x.jsx)(l.a,{component:"h4",sx:{color:"text.primary",fontSize:16,mt:4,mb:3},children:s.vendor_sale_price?Object(x.jsxs)(x.Fragment,{children:["\u20aa",s.vendor_sale_price?s.vendor_sale_price:s.vendor_price,Object(x.jsxs)(l.a,{component:"span",sx:{textDecoration:"line-through",color:"#B30009DD",fontSize:16,mt:1,ml:3},children:["\u20aa",s.vendor_price]})]}):Object(x.jsxs)(x.Fragment,{children:[" ",Object(x.jsxs)(l.a,{component:"span",sx:{color:"text.primary",fontSize:16,mt:1,ml:0},children:["\u20aa",s.vendor_price]})]})})})]},s.id)}):Object(x.jsx)(x.Fragment,{}),s.until_vendor?Object(x.jsx)(j.a,{container:!0,spacing:3,children:Object(x.jsxs)(i.a.Fragment,{children:[Object(x.jsx)(j.a,{item:!0,xs:4,children:Object(x.jsx)(l.a,{component:"h3",sx:{color:"text.primary",fontSize:16,mt:4,mb:3},children:"Vendor Sale Until"})}),Object(x.jsx)(j.a,{item:!0,xs:8,children:Object(x.jsx)(l.a,{component:"h4",sx:{color:"text.primary",fontSize:16,mt:4,mb:3},children:Object(x.jsxs)(x.Fragment,{children:[" ",Object(x.jsx)(l.a,{component:"span",sx:{color:"text.primary",fontSize:16,mt:1,ml:0},children:s.until_vendor})]})})})]},s.id)}):Object(x.jsx)(x.Fragment,{}),s.until?Object(x.jsx)(j.a,{container:!0,spacing:3,children:Object(x.jsxs)(i.a.Fragment,{children:[Object(x.jsx)(j.a,{item:!0,xs:4,children:Object(x.jsx)(l.a,{component:"h3",sx:{color:"text.primary",fontSize:16,mt:4,mb:3},children:"Client Sale Until"})}),Object(x.jsx)(j.a,{item:!0,xs:8,children:Object(x.jsx)(l.a,{component:"h4",sx:{color:"text.primary",fontSize:16,mt:4,mb:3},children:Object(x.jsxs)(x.Fragment,{children:[" ",Object(x.jsx)(l.a,{component:"span",sx:{color:"text.primary",fontSize:16,mt:1,ml:0},children:s.until})]})})})]},s.id)}):Object(x.jsx)(x.Fragment,{}),Object(x.jsxs)(l.a,{component:"h3",sx:{color:"text.primary",fontSize:16,mt:4,mb:3},children:["Catagory",Object(x.jsx)(j.a,{container:!0,spacing:3,children:null===(t=s.category)||void 0===t?void 0:t.map((function(e){return Object(x.jsxs)(i.a.Fragment,{children:[Object(x.jsx)(j.a,{item:!0,xs:4,children:Object(x.jsx)(l.a,{sx:{color:"text.secondary",pr:2},children:e.name})}),Object(x.jsx)(j.a,{item:!0,xs:8,children:Object(x.jsxs)(l.a,{children:[" ",e.slug]})})]},e.id)}))})]}),Object(x.jsxs)(l.a,{component:"h3",sx:{color:"text.primary",fontSize:16,mt:4,mb:3},children:["Brands",Object(x.jsx)(j.a,{container:!0,spacing:3,children:null===(n=s.brands)||void 0===n?void 0:n.map((function(e){return Object(x.jsxs)(i.a.Fragment,{children:[Object(x.jsx)(j.a,{item:!0,xs:4,children:Object(x.jsx)(l.a,{sx:{color:"text.secondary",pr:2},children:e.name})}),Object(x.jsx)(j.a,{item:!0,xs:8,children:Object(x.jsxs)(l.a,{children:[" ",e.slug]})})]},e.id)}))})]}),Object(x.jsx)(z.a,{}),Object(x.jsxs)(l.a,{component:"h3",sx:{color:"text.primary",fontSize:16,mt:4,mb:3},children:[Object(x.jsx)(j.a,{container:!0,spacing:3,children:Object(x.jsxs)(i.a.Fragment,{children:[Object(x.jsx)(j.a,{item:!0,xs:4,children:Object(x.jsx)(l.a,{sx:{color:"text.primary",pr:2},children:"Stock"})}),Object(x.jsx)(j.a,{item:!0,xs:8,children:Object(x.jsx)(x.Fragment,{children:0==s.stock?Object(x.jsx)(l.a,{sx:{color:"primary.main",fontWeight:"bold",fontSize:18,mb:2},children:s.stock}):Object(x.jsx)(l.a,{sx:{color:"primary.main",fontWeight:"bold",fontSize:18,mb:4},children:s.stock})})})]},s.id)}),Object(x.jsx)(j.a,{container:!0,spacing:3,children:Object(x.jsxs)(i.a.Fragment,{children:[Object(x.jsx)(j.a,{item:!0,xs:4,children:Object(x.jsx)(l.a,{sx:{color:"text.primary",pr:2},children:"Sold"})}),s.sold+20>=s.stock?Object(x.jsx)(j.a,{item:!0,xs:8,children:Object(x.jsxs)(l.a,{sx:{color:"#cc0f02",fontWeight:"bold",fontSize:18},children:[s.sold,Object(x.jsx)(F.a,{icon:Object(x.jsx)(k.a,{}),checkedIcon:Object(x.jsx)(k.a,{}),readOnly:!0})]})}):Object(x.jsxs)(x.Fragment,{children:[" ",Object(x.jsx)(j.a,{item:!0,xs:8,children:Object(x.jsx)(l.a,{sx:{color:"black",fontWeight:"bold",fontSize:18},children:s.sold})})]})]},s.id)})]}),Object(x.jsxs)(l.a,{component:"h3",sx:{color:"text.primary",fontSize:16,mt:4,mb:3},children:[Object(x.jsx)(j.a,{container:!0,spacing:3,children:Object(x.jsxs)(i.a.Fragment,{children:[Object(x.jsx)(j.a,{item:!0,xs:4,children:Object(x.jsx)(l.a,{sx:{color:"text.primary",pr:2,mb:3},children:"Damaged"})}),Object(x.jsx)(j.a,{item:!0,xs:8,children:Object(x.jsx)(l.a,{sx:{color:"#FF9F00",fontWeight:"bold",fontSize:18,mb:4},children:s.damegdCouont})})]},s.id)}),s.variants.length>0&&"default"!=s.variants[0].color_name?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(z.a,{}),Object(x.jsxs)(l.a,{component:"h3",sx:{color:"text.primary",fontSize:16,mt:4,mb:4},children:[Object(x.jsx)(l.a,{marginBottom:2,children:"Color Available"}),Object(x.jsx)(j.a,{container:!0,spacing:3,children:null===(r=s.variants)||void 0===r?void 0:r.map((function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(j.a,{item:!0,xs:3,children:Object(x.jsx)(l.a,{sx:{color:"text.secondary",pr:2},children:Object(x.jsxs)(x.Fragment,{children:[console.log(e),"\u2022"," ",Object(x.jsx)(C.a,{sx:{color:e.color},fontSize:"3",mt:"4"})," ",e.color_name]})})}),!e.count||e.price||e.vendor_price?Object(x.jsx)(x.Fragment,{}):Object(x.jsx)(j.a,{item:!0,xs:8,children:Object(x.jsxs)(l.a,{children:[" # ",e.count," "]})}),!e.price||e.count||e.vendor_price?Object(x.jsx)(x.Fragment,{}):Object(x.jsx)(j.a,{item:!0,xs:8,children:Object(x.jsxs)(l.a,{children:["Price : ",e.price," \u20aa"]})}),e.count&&e.price&&!e.vendor_price?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(j.a,{item:!0,xs:4,children:Object(x.jsxs)(l.a,{children:[" # ",e.count," "]})}),Object(x.jsx)(j.a,{item:!0,xs:4,children:Object(x.jsxs)(l.a,{children:["Price : ",e.price," \u20aa"]})})]}):Object(x.jsx)(x.Fragment,{}),e.count&&e.price&&e.vendor_price?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(j.a,{item:!0,xs:2,children:Object(x.jsxs)(l.a,{children:[" # ",e.count," "]})}),Object(x.jsx)(j.a,{item:!0,xs:3,children:Object(x.jsxs)(l.a,{children:["Price : ",e.price," \u20aa"]})}),Object(x.jsx)(j.a,{item:!0,xs:4,children:Object(x.jsxs)(l.a,{children:["Vendor Price : ",e.vendor_price," \u20aa"]})})]}):Object(x.jsx)(x.Fragment,{})]})}))})]})]}):Object(x.jsx)(x.Fragment,{}),(null===(c=s.variants[0])||void 0===c?void 0:c.size.length)>0&&Object(x.jsxs)(i.a.Fragment,{children:[Object(x.jsx)(l.a,{component:"h3",sx:{color:"text.primary",fontSize:16,mt:4,mb:4},children:"Sizes Available"}),s.variants.length>0?null===(o=s.variants)||void 0===o?void 0:o.map((function(e){var t;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(z.a,{}),"default"!=s.variants[0].color_name?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(l.a,{marginTop:2,marginBottom:2,children:[e.color_name," |"," ",Object(x.jsx)(C.a,{sx:{color:e.color},fontSize:"3",mt:"4"})]})}):Object(x.jsx)(x.Fragment,{}),Object(x.jsx)(l.a,{component:"h3",sx:{color:"text.primary",fontSize:16,mt:4,mb:4},children:Object(x.jsx)(j.a,{container:!0,spacing:2,children:null===(t=e.size)||void 0===t?void 0:t.map((function(e){return Object(x.jsxs)(i.a.Fragment,{children:[Object(x.jsx)(j.a,{item:!0,xs:3,children:Object(x.jsxs)(l.a,{sx:{color:"text.secondary",pr:2},children:[console.log(e),"\u2022 ",e.name]})}),!e.count||e.price||e.vendor_price?Object(x.jsx)(x.Fragment,{}):Object(x.jsx)(j.a,{item:!0,xs:8,children:Object(x.jsxs)(l.a,{children:[" # ",e.count," "]})}),!e.price||e.count||e.vendor_price?Object(x.jsx)(x.Fragment,{}):Object(x.jsx)(j.a,{item:!0,xs:8,children:Object(x.jsxs)(l.a,{children:[" Price :",e.price," "]})}),e.count&&e.price&&!e.vendor_price?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(j.a,{item:!0,xs:4,children:Object(x.jsxs)(l.a,{children:[" # ",e.count," "]})}),Object(x.jsx)(j.a,{item:!0,xs:4,children:Object(x.jsxs)(l.a,{children:[" Price :",e.price," "]})})]}):Object(x.jsx)(x.Fragment,{}),e.count&&e.price&&e.vendor_price?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(j.a,{item:!0,xs:2,children:Object(x.jsxs)(l.a,{children:[" # ",e.count," "]})}),Object(x.jsx)(j.a,{item:!0,xs:3,children:Object(x.jsxs)(l.a,{children:[" Price :",e.price," "]})}),Object(x.jsx)(j.a,{item:!0,xs:4,children:Object(x.jsxs)(l.a,{children:[" Vendor Price :",e.vendor_price," "]})})]}):Object(x.jsx)(x.Fragment,{})]},e.id)}))})})]})})):Object(x.jsx)(x.Fragment,{})]})]})]})},D=n(663),I=n(1622),W=n.n(I),E=n(1486),B=function(e){var t,n,r,c,i,o=e.review;return Object(x.jsxs)(l.a,{sx:{position:"relative",display:"flex",className:"item-hover",alignItems:"center",px:4,py:3,justifyContent:"space-between"},children:[Object(x.jsxs)(l.a,{sx:{display:"flex"},children:[Object(x.jsx)(E.a,{sx:{height:50,width:50,overflow:"hidden"},alt:"user image"}),Object(x.jsxs)(l.a,{sx:{flex:1,ml:4},children:[Object(x.jsxs)(l.a,{component:"h3",sx:{color:"text.primary",display:"flex",mb:2,fontWeight:O.a.BOLD,alignItems:"center",fontSize:14},children:[Object(x.jsxs)(l.a,{component:"span",sx:{color:"white",backgroundColor:"#388E3C",width:34,mr:2,pt:.25,pb:.5,px:2,display:"flex",alignItems:"center",borderRadius:10,fontSize:12},children:[Object(x.jsx)(l.a,{component:"span",sx:{pb:.5},children:o.rating?o.rating:0}),Object(x.jsx)(W.a,{style:{fontSize:16}})]}),o.name?o.name:"User"]}),Object(x.jsx)(l.a,{component:"p",sx:{fontSize:14,color:"text.secondary"},children:o.message}),Object(x.jsx)(l.a,{component:"p",sx:{fontSize:12,color:"text.hint",mt:2},children:new Date(1e3*(null===(t=o.time)||void 0===t?void 0:t.seconds)).getFullYear()+"/"+new Date(1e3*(null===(n=o.time)||void 0===n?void 0:n.seconds)).getMonth()+"/"+new Date(1e3*(null===(r=o.time)||void 0===r?void 0:r.seconds)).getDay()+"  "+new Date(1e3*(null===(c=o.time)||void 0===c?void 0:c.seconds)).getHours()+":"+new Date(1e3*(null===(i=o.time)||void 0===i?void 0:i.seconds)).getMinutes()})]})]}),Object(x.jsx)(l.a,{sx:{display:"flex",position:"absolute",bottom:2,right:2,flexDirection:"row",color:"#737989",alignItems:"center",fontSize:14}})]})},P=n(667),N=n(668),A=function(e){var t,n=e.reviews,i=Object(c.useState)([0,0,0,0,0]),o=Object(r.a)(i,2),s=o[0],a=o[1],j=Object(c.useState)(0),d=Object(r.a)(j,2),m=d[0],b=d[1],u=function(e){return e/n.length*100};return Object(c.useEffect)((function(){a((function(e){var t=0;return n.map((function(n){n.rating&&(e[n.rating-1]++,t+=n.rating)})),b(t/n.length),e}))}),[n]),Object(x.jsxs)(l.a,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"center",md:"flex-start"}},children:[Object(x.jsx)(l.a,{component:"span",sx:{mr:{xs:0,md:5}},children:Object(x.jsx)(P.a,{minWidth:150,maxWidth:150,activeColor:(t=m,Number(t)<=1?"#FF6161":Number(t)>1&&Number(t)<=3?"#FF9F00":Number(t)>3?"#49BD65":void 0),value:function(e){return e/5*100}(m),hidePercentage:!0,centerNode:Object(x.jsxs)(l.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(x.jsxs)(l.a,{component:"h3",sx:{fontSize:14,display:"flex",alignItems:"center",fontWeight:O.a.BOLD},children:[m.toFixed(1)," ",Object(x.jsx)(W.a,{})]}),Object(x.jsx)(l.a,{component:"p",sx:{ml:2,fontSize:14,fontWeight:O.a.LIGHT},children:"Overall rating"})]}),thickness:2})}),Object(x.jsxs)(l.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(x.jsxs)(l.a,{sx:{p:1,fontSize:14,display:"flex",alignItems:"center"},children:[Object(x.jsx)(l.a,{component:"span",children:"5"}),Object(x.jsx)(W.a,{style:{fontSize:16}}),Object(x.jsx)(N.a,{activeColor:"#49BD65",value:u(s[4]),thickness:6,style:{minWidth:200,maxWidth:500}}),Object(x.jsx)(l.a,{component:"span",sx:{ml:2,fontSize:14,color:"text.secondary"},children:s[4]})]}),Object(x.jsxs)(l.a,{sx:{p:1,fontSize:14,display:"flex",alignItems:"center"},children:[Object(x.jsx)(l.a,{component:"span",children:"4"}),Object(x.jsx)(W.a,{style:{fontSize:16}}),Object(x.jsx)(N.a,{activeColor:"#49BD65",value:u(s[3]),thickness:6,style:{minWidth:200,maxWidth:500}}),Object(x.jsx)(l.a,{component:"span",sx:{ml:2,fontSize:14,color:"text.secondary"},children:s[3]})]}),Object(x.jsxs)(l.a,{sx:{p:1,fontSize:14,display:"flex",alignItems:"center"},children:[Object(x.jsx)(l.a,{component:"span",children:"3"}),Object(x.jsx)(W.a,{style:{fontSize:16}}),Object(x.jsx)(N.a,{activeColor:"#FF9F00",value:u(s[2]),thickness:6,style:{minWidth:200,maxWidth:500}}),Object(x.jsx)(l.a,{component:"span",sx:{ml:2,fontSize:14,color:"text.secondary"},children:s[2]})]}),Object(x.jsxs)(l.a,{sx:{p:1,fontSize:14,display:"flex",alignItems:"center"},children:[Object(x.jsx)(l.a,{component:"span",children:"2"}),Object(x.jsx)(W.a,{style:{fontSize:16}}),Object(x.jsx)(N.a,{activeColor:"#FF9F00",value:u(s[1]),thickness:6,style:{minWidth:200,maxWidth:500}}),Object(x.jsx)(l.a,{component:"span",sx:{ml:2,fontSize:14,color:"text.secondary"},children:s[1]})]}),Object(x.jsxs)(l.a,{sx:{p:1,fontSize:14,display:"flex",alignItems:"center"},children:[Object(x.jsx)(l.a,{component:"span",children:"1"}),Object(x.jsx)(W.a,{style:{fontSize:16}}),Object(x.jsx)(N.a,{activeColor:"#FF6161",value:u(s[0]),thickness:6,style:{minWidth:200,maxWidth:500}}),Object(x.jsx)(l.a,{component:"span",sx:{ml:2,fontSize:14,color:"text.secondary"},children:s[0]})]})]})]})},T=function(e){var t=e.reviews;return Object(x.jsx)(l.a,{children:t?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(l.a,{component:"h3",sx:{color:"text.primary",fontSize:16,mb:3},children:"Reviews"}),Object(x.jsx)(A,{reviews:t}),Object(x.jsx)(z.a,{style:{marginTop:15,marginBottom:15}}),Object(x.jsx)(D.a,{data:t.map((function(e,t){return t})),renderRow:function(e){return Object(x.jsx)(B,{review:t[e]},e)}})]}):Object(x.jsx)(x.Fragment,{})})},R=function(e){var t,n=e.product;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(j.a,{item:!0,sm:12,md:8,children:[Object(x.jsx)(l.a,{component:"h3",sx:{color:"text.primary",fontSize:20,mb:1},children:Object(x.jsx)(l.a,{component:"h3",sx:{color:"text.primary",fontWeight:O.a.BOLD,fontSize:18,mb:1},children:n.name})}),0==n.stock?Object(x.jsx)(l.a,{sx:{color:"#cc0f02",fontWeight:"bold",fontSize:16,mb:4},children:"Out of stock"}):Object(x.jsx)(l.a,{sx:{color:"primary.main",fontWeight:"bold",fontSize:16,mb:4},children:"In stock"}),Object(x.jsx)(z.a,{style:{marginTop:15,marginBottom:15}}),Object(x.jsx)(_,{product:n}),Object(x.jsx)(z.a,{style:{marginTop:15,marginBottom:15}}),(null===(t=n.reviews)||void 0===t?void 0:t.length)>=1?Object(x.jsx)(T,{reviews:n.reviews}):Object(x.jsx)(x.Fragment,{})]})," "]})},q=n(65),V=n(92),L=n(262),U=n(61),G=n(51);t.default=function(){var e=Object(c.useState)(Object(g.e)().state),t=Object(r.a)(e,2),n=t[0],i=t[1],o=Object(G.e)((function(e){return e.ecommerce.currentProduct})),s=Object(G.d)(),a=Object(c.useState)(!0),l=Object(r.a)(a,2),j=l[0],d=l[1],m=Object(g.e)().pathname.split("/")[3];return console.log(m),Object(c.useEffect)((function(){s(Object(U.i)(m))}),[s]),Object(c.useEffect)((function(){o&&(i(o),d(!1))}),[o]),Object(x.jsxs)(x.Fragment,{children:[j?null:Object(x.jsx)(L.a,{animation:"transition.slideUpIn",delay:200,children:Object(x.jsxs)(u.a,{children:[Object(x.jsx)(y,{product:n}),Object(x.jsxs)(q.a,{children:[Object(x.jsx)(b,{product:n}),Object(x.jsx)(R,{product:n})]})]})}),Object(x.jsx)(V.f,{})]})}}}]);
//# sourceMappingURL=51.7c2bb63d.chunk.js.map